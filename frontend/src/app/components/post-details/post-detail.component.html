<div *ngIf="post" class="p-6 bg-white rounded-lg shadow-md mt-6 max-w-3xl mx-auto">
  <h2 class="text-3xl font-bold text-gray-900 mb-4">{{ post.title }}</h2>
  <p class="text-gray-700 mb-6 whitespace-pre-line">{{ post.content }}</p>

  <!-- Show media if available -->
  <div *ngIf="post.media" class="mb-6">
    <ng-container [ngSwitch]="getMediaType(post.media)">
      <img *ngSwitchCase="'image'" [src]="post.media" alt="Post Media" class="w-full rounded-lg shadow-md" />
      <video *ngSwitchCase="'video'" [src]="post.media" controls class="w-full rounded-lg shadow-md"></video>
      <p *ngSwitchDefault class="text-red-500 font-semibold">Unsupported media format</p>
    </ng-container>
  </div>

  <!-- Comments Toggle Button -->
  <div class="mb-4">
    <button
      (click)="toggleComments()"
      class="px-5 py-2 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700 transition duration-300"
    >
      {{ showComments ? 'Hide Comments' : 'Show Comments' }} ({{ post.comments?.length || 0 }})
    </button>
  </div>

  <!-- Comments Section -->
  <div
    *ngIf="showComments"
    class="border border-gray-300 rounded-lg p-4 space-y-4 bg-gray-50"
  >
    <app-comment-section [post]="post"></app-comment-section>

    <!-- Add Comment Button -->
    <div class="pt-4 border-t border-gray-300">
      <button
        class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition duration-300"
        (click)="onAddComment()"
      >
        + Add Comment
      </button>
    </div>
  </div>
</div>
